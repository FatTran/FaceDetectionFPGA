  
#include <stdint.h>

#define WIN_WIDTH 24

static const float stage24Thresh = -2.992827892303467;
static const float stage24Nodes[600] = {-0.09594400227069855, 0.6241909861564636, -0.45875200629234314, 0.016834000125527382, -0.930728018283844, 0.2156360000371933, 0.02604999952018261, -0.40532299876213074, 0.4225659966468811, 0.0003650000144261867, 0.0952880010008812, -0.63298100233078, -0.006694000214338303, 0.3724380135536194, -0.30332401394844055, 0.018874000757932663, -0.23357200622558594, 0.4033069908618927, -0.0001630000042496249, 0.04288699850440025, -0.7779679894447327, -0.07625900208950043, -0.49628499150276184, 0.16335399448871613, 0.05014900118112564, 0.03274700045585632, -0.800478994846344, -0.0029239999130368233, -0.5000280141830444, 0.2548060119152069, 0.01624399982392788, 0.038913000375032425, -0.7072489857673645, 0.0378119982779026, -0.06626799702644348, 0.7386879920959473, -0.012319999746978283, 0.48696398735046387, -0.24485599994659424, 0.058003999292850494, 0.1345909982919693, -0.13232100009918213, 0.004863000009208918, -0.44172900915145874, 0.14005599915981293, 0.04569099843502045, 0.031217999756336212, 0.8981829881668091, 0.021321000531315804, 0.012008000165224075, -0.8606619834899902, 0.15679100155830383, 0.014055999927222729, 0.8533290028572083, -0.01032899972051382, 0.290228009223938, -0.2947880029678345, 0.002429000101983547, -0.40439900755882263, 0.19400200247764587, -0.02333899959921837, 0.3294520080089569, -0.25712698698043823, -0.006897000130265951, -0.5335299968719482, 0.21635200083255768, -0.0344030000269413, -1.4425489902496338, -0.04468299821019173, -0.02123500034213066, -0.7901750206947327, 0.19084100425243378, 0.0020620001014322042, -0.2693119943141937, 0.31488001346588135, -0.004219000227749348, -0.5446439981460571, 0.16574600338935852, -0.014334999956190586, 0.022105000913143158, -0.6234250068664551, -0.008212000131607056, -0.4988499879837036, 0.19237099587917328, -0.009335000067949295, -0.7913119792938232, -0.01414399966597557, -0.03793799877166748, 0.7984129786491394, -0.03379900008440018, 0.004705999977886677, -0.3316340148448944, 0.20726299285888672, -0.004449999891221523, -0.27256301045417786, 0.18402199447155, 0.0052189999260008335, -0.5309600234031677, 0.05260799825191498, -0.00953999999910593, -0.5648540258407593, 0.19269399344921112, 0.04496999830007553, -0.17411500215530396, 0.9538260102272034, 0.014209000393748283, -0.09194900095462799, 0.2483610063791275, 0.16380199790000916, -0.058497000485658646, -1.6404409408569336, 0.0025579999200999737, 0.23447999358177185, -0.09273400157690048, -0.0038499999791383743, 0.17880700528621674, -0.35844099521636963, -0.02522199973464012, -0.42903000116348267, 0.20244500041007996, -0.019415000453591347, 0.5801630020141602, -0.18806399405002594, 0.014419999904930592, 0.032846998423337936, 0.8198050260543823, 0.051582999527454376, 0.06917600333690643, -0.4586629867553711, -0.0379600003361702, -1.2553000450134277, 0.14332899451255798, -0.0295609999448061, 0.5315179824829102, -0.20596499741077423, -0.039110999554395676, 1.1658719778060913, 0.05389700084924698, -0.029159000143408775, 0.39307600259780884, -0.22184500098228455, -0.08361700177192688, -0.7374449968338013, 0.1426820009946823, 0.4200400114059448, -0.14277400076389313, 1.7894840240478516, 0.06000500172376633, 0.11976700276136398, -1.8886189460754395, -0.018981000408530235, -1.4148449897766113, -0.056522998958826065, -0.006004999857395887, 0.4417079985141754, -0.10200800001621246, -0.05821400135755539, -1.391847014427185, -0.04826899990439415, -0.012271000072360039, 0.5131769776344299, -0.09369699656963348, 0.04658599942922592, -0.05748400092124939, -1.4283169507980347, 0.0012110000243410468, -0.08089199662208557, 0.3233320116996765, -0.08864200115203857, -0.8644909858703613, -0.03314699977636337, -0.02318499982357025, 0.5216220021247864, -0.016168000176548958, 0.04309000074863434, -0.1615380048751831, 1.0915000438690186, 0.00020599999697878957, -0.17091499269008636, 0.3123669922351837, 0.00891599990427494, -0.006703999824821949, -0.688103973865509, -0.01775299943983555, 0.6329280138015747, -0.004236000124365091, 0.00622999994084239, -0.3363719880580902, 0.12790599465370178, 0.022770000621676445, -0.034703999757766724, 0.3914180099964142, -0.021534999832510948, 0.6476510167121887, -0.20097799599170685, 0.06175899878144264, 0.05429700016975403, 0.9070010185241699, -0.07806999981403351, 0.6552339792251587, -0.19754399359226227, 0.011315000243484974, 0.1938530057668686, -0.5170729756355286, -0.025590000674128532, -0.930965006351471, -0.031546998769044876, -0.03805899992585182, -0.6832690238952637, 0.12709100544452667, 0.00979700032621622, 0.0155239999294281, -0.6334789991378784, -0.01384199969470501, 1.0060529708862305, 0.06281299889087677, 0.008345999754965305, -0.2338320016860962, 0.3098269999027252, -0.07143999636173248, -0.7250540256500244, 0.17148299515247345, 0.01000600028783083, -0.22071999311447144, 0.35266199707984924, 0.11005300283432007, 0.16662000119686127, -0.7431899905204773, 0.03531099855899811, -0.2398270070552826, 0.414359986782074, -0.11174699664115906, 0.510453999042511, 0.0022319999989122152, -0.11367800086736679, 0.9047520160675049, -0.16615299880504608, 0.01666799932718277, 0.1402450054883957, -0.5217850208282471, -0.008034000173211098, -0.6617839932441711, 0.0037640000227838755, -0.03309699892997742, 0.8018590211868286, 0.05938500165939331, 0.012547999620437622, -0.3354550004005432, 0.14578600227832794, -0.04207399860024452, -0.5550910234451294, 0.13266600668430328, 0.02522199973464012, -0.06163199990987778, -1.3678770065307617, -0.024268999695777893, 0.34185099601745605, -0.007416000124067068, -0.012280000373721123, 0.2774580121040344, -0.3103390038013458, -0.1137709990143776, 1.1719540357589722, 0.08368100225925446, -0.08477199822664261, 0.8169479966163635, -0.1783750057220459, -0.0245520006865263, -0.186272993683815, 0.14340099692344666, -0.009026999585330486, 0.32659199833869934, -0.23541299998760223, 0.011177999898791313, 0.197612002491951, -0.02170100063085556, -0.029366999864578247, -0.9341480135917664, -0.02170499972999096, 0.006364000029861927, 0.0255730003118515, 0.4641279876232147, 0.014026000164449215, -0.21228599548339844, 0.40078800916671753, -0.013341999612748623, 0.7420269846916199, 0.029001999646425247, 0.28422799706459045, -0.19243599474430084, 0.4363119900226593, -0.2372400015592575, 0.6973639726638794, 0.06930799782276154, -0.1116970032453537, 0.3914720118045807, -0.2092200070619583, 0.12787500023841858, -0.07255599647760391, 0.3608820140361786, -0.06290099769830704, 0.9542499780654907, -0.1540279984474182, 0.01743900030851364, -0.051134999841451645, 0.27750301361083984, 0.001231999951414764, 0.07562799751758575, -0.36456099152565, 0.027495000511407852, 0.051844000816345215, 0.41562598943710327, -0.04354399815201759, 0.7196999788284302, -0.17132200300693512, 0.011025999672710896, 0.143546000123024, -0.6540300250053406, 0.020865999162197113, 0.04008900001645088, -0.45743298530578613, -0.022304000332951546, 0.5385500192642212, 0.07166299968957901, 0.03249200060963631, -0.04599199816584587, -1.0047069787979126, 0.012269999831914902, 0.034334998577833176, 0.42431798577308655, 0.008382000029087067, -0.25850600004196167, 0.2626349925994873, 0.0373539999127388, 0.1569249927997589, -1.042909026145935, -0.01411100011318922, -0.731777012348175, -0.020276999101042747, 0.05706699937582016, 0.08336000144481659, 1.5661499500274658, 0.0049680001102387905, -0.35318198800086975, 0.14698399603366852, -0.02449299953877926, 0.28325900435447693, -0.003464000066742301, -0.011254999786615372, -0.8401749730110168, -0.03625199943780899, 0.034533001482486725, 0.14998500049114227, -0.8736709952354431, 0.024303000420331955, -0.18787500262260437, 0.5948399901390076, -0.007879000157117844, 0.44315698742866516, -0.05657099932432175, 0.03514200076460838, -0.056494999676942825, -1.361719012260437, 0.0046259998343884945, -0.311616986989975, 0.25447699427604675, -0.08313100039958954, 1.6424349546432495, -0.14429399371147156, -0.014015999622642994, -0.7781950235366821, 0.17173300683498383, 0.0012450000504031777, -0.2319139987230301, 0.2852790057659149, -0.01680300012230873, -0.35965099930763245, 0.20412999391555786, -0.07674799859523773, 0.7805050015449524, -0.15612800419330597, -0.2367199957370758, 1.1813700199127197, 0.07811199873685837, -0.10057400166988373, -0.4710409939289093, 0.0791729986667633, 0.001323999953456223, 0.22262699902057648, -0.37099799513816833, 0.02215299941599369, -0.038649000227451324, -0.9227499961853027, -0.11246199905872345, 0.41899600625038147, 0.08041100203990936, 0.016481000930070877, -0.16756699979305267, 0.7184240221977234, 0.06811399757862091, 0.15719899535179138, -0.8768110275268555, 0.016011999920010567, -0.0041600000113248825, -0.5932779908180237, 0.0046640001237392426, -0.030153999105095863, 0.48345300555229187, 0.006757999770343304, -0.22667400538921356, 0.33662301301956177, 0.004728999920189381, -0.060373999178409576, 0.3145810067653656, 0.0025869999080896378, -0.29872599244117737, 0.17787499725818634, 0.0028989999555051327, 0.21890200674533844, -0.2956709861755371, -0.0300539992749691, 1.2150429487228394, -0.14354999363422394, 0.014181000180542469, 0.012451999820768833, 0.5549010038375854, -0.060527000576257706, -1.493399977684021, -0.06522700190544128, -0.01988299936056137, -0.38526400923728943, 0.197612002491951, 0.03121899999678135, -0.21281200647354126, 0.29446500539779663, 0.018271999433636665, 0.0009720000089146197, 0.6681420207023621, 0.001108999946154654, -0.6246790289878845, -0.0016599999507889152, -0.03671399876475334, -0.42333900928497314, 0.12084700167179108, 0.012044000439345837, 0.025882000103592873, -0.5073239803314209, 0.07474900037050247, 0.13184699416160583, -0.21739600598812103, -0.2347320020198822, 1.1775610446929932, -0.1511469930410385, 0.14096499979496002, 0.033991001546382904, 0.3992309868335724, 0.006178999785333872, -0.3180670142173767, 0.11681699752807617, -0.05721699818968773, 0.8439909815788269, 0.08388900011777878, -0.05522700026631355, 0.36888301372528076, -0.18913400173187256, -0.02158300019800663, -0.5216180086135864, 0.1577260047197342, 0.02574799954891205, -0.0599219985306263, -1.067499041557312, -0.013098999857902527, 0.7895839810371399, 0.05209999904036522, 0.0022799998987466097, -1.170443058013916, -0.05935699865221977, 0.008806000463664532, 0.041717998683452606, 0.6635259985923767, -0.008969999849796295, -0.35862699151039124, 0.060458000749349594, 0.004023000132292509, 0.20979399979114532, -0.24806000292301178, 0.02501700073480606, -0.1879590004682541, 0.3954710066318512, -0.0059009999968111515, 0.2566390037536621, -0.09491900354623795, 0.004385000094771385, 0.033139001578092575, -0.46075400710105896, -0.033771999180316925, -0.9888160228729248, 0.14636899530887604, 0.044523000717163086, -0.1328669935464859, 1.579679012298584, -0.040929000824689865, 0.3387709856033325, 0.07497099786996841, 0.03935199975967407, -0.18327899277210236, 0.4698069989681244, -0.07032299786806107, -0.983227014541626, 0.1180810034275055, 0.035743001848459244, -0.03305099904537201, -0.8361089825630188, -0.04296199977397919, 1.1670809984207153, 0.08069200068712234, -0.021007999777793884, 0.6386979818344116, -0.1762630045413971, -0.1574220061302185, -0.23302499949932098, 0.12517499923706055, 0.007865999825298786, -0.2203799933195114, 0.2719680070877075, 0.023622000589966774, 0.16127300262451172, -0.4332900047302246, 0.074692003428936, -0.16991999745368958, 0.5888490080833435, -0.0006479999865405262, 0.25842899084091187, -0.03591199964284897, -0.016290999948978424, -0.7676439881324768, -0.020472999662160873, -0.03313399851322174, -0.2718009948730469, 0.1432570070028305, 0.04879799857735634, 0.0764089971780777, -0.4144519865512848, 0.0022869999520480633, -0.03862899914383888, 0.20753799378871918, 0.04530400037765503, -0.17777900397777557, 0.6346139907836914, 0.10705800354480743, 0.18972299993038177, -0.512362003326416, -0.04052500054240227, 0.7061499953269958, -0.1780329942703247, 0.03196899965405464, 0.06814999878406525, 0.6873310208320618, -0.05761700123548508, 0.7517049908638, -0.15764999389648438, 0.013593999668955803, 0.19411900639533997, -0.245618999004364, 0.07139600068330765, -0.04688100144267082, -0.8819829821586609, -0.014895999804139137, -0.44532400369644165, 0.1767989993095398, -0.010026000440120697, 0.6512269973754883, -0.1670999974012375, 0.0037589999847114086, -0.05830100178718567, 0.34483298659324646, 0.016263000667095184, -0.1558150053024292, 0.8643270134925842, -0.04017600044608116, -0.6102859973907471, 0.1179639995098114, 0.027080999687314034, -0.049601998180150986, -0.8999000191688538, 0.0524200014770031, 0.11297199875116348, -1.0833640098571777, -0.01916000060737133, -0.7988010048866272, -0.03407900035381317, -0.003773000091314316, -0.19124099612236023, 0.21535199880599976, 0.07576200366020203, -0.13421699404716492, 1.6807060241699219, -0.022173000499606133, 0.48600998520851135, 0.003616000059992075};

static const int8_t stage24RectsExtend[446][5] = {{6.0, 4.0, 12.0, 9.0, -1.0}, {6.0, 7.0, 12.0, 3.0, 3.0}, {6.0, 5.0, 12.0, 6.0, -1.0}, {10.0, 5.0, 4.0, 6.0, 3.0}, {1.0, 1.0, 8.0, 5.0, -1.0}, {5.0, 1.0, 4.0, 5.0, 2.0}, {12.0, 12.0, 6.0, 8.0, -1.0}, {12.0, 16.0, 6.0, 4.0, 2.0}, {3.0, 12.0, 12.0, 6.0, -1.0}, {3.0, 14.0, 12.0, 2.0, 3.0}, {9.0, 18.0, 12.0, 6.0, -1.0}, {15.0, 18.0, 6.0, 3.0, 2.0}, {9.0, 21.0, 6.0, 3.0, 2.0}, {4.0, 13.0, 6.0, 6.0, -1.0}, {4.0, 16.0, 6.0, 3.0, 2.0}, {11.0, 3.0, 7.0, 18.0, -1.0}, {11.0, 12.0, 7.0, 9.0, 2.0}, {3.0, 9.0, 18.0, 3.0, -1.0}, {9.0, 9.0, 6.0, 3.0, 3.0}, {5.0, 3.0, 19.0, 2.0, -1.0}, {5.0, 4.0, 19.0, 1.0, 2.0}, {4.0, 2.0, 12.0, 6.0, -1.0}, {4.0, 2.0, 6.0, 3.0, 2.0}, {10.0, 5.0, 6.0, 3.0, 2.0}, {9.0, 6.0, 6.0, 9.0, -1.0}, {11.0, 6.0, 2.0, 9.0, 3.0}, {8.0, 6.0, 6.0, 9.0, -1.0}, {10.0, 6.0, 2.0, 9.0, 3.0}, {16.0, 9.0, 5.0, 15.0, -1.0}, {16.0, 14.0, 5.0, 5.0, 3.0}, {3.0, 9.0, 5.0, 15.0, -1.0}, {3.0, 14.0, 5.0, 5.0, 3.0}, {6.0, 6.0, 14.0, 6.0, -1.0}, {13.0, 6.0, 7.0, 3.0, 2.0}, {6.0, 9.0, 7.0, 3.0, 2.0}, {8.0, 6.0, 3.0, 14.0, -1.0}, {8.0, 13.0, 3.0, 7.0, 2.0}, {0.0, 16.0, 24.0, 5.0, -1.0}, {8.0, 16.0, 8.0, 5.0, 3.0}, {0.0, 20.0, 20.0, 3.0, -1.0}, {10.0, 20.0, 10.0, 3.0, 2.0}, {5.0, 10.0, 18.0, 2.0, -1.0}, {5.0, 11.0, 18.0, 1.0, 2.0}, {0.0, 6.0, 6.0, 10.0, -1.0}, {2.0, 6.0, 2.0, 10.0, 3.0}, {2.0, 1.0, 20.0, 3.0, -1.0}, {2.0, 2.0, 20.0, 1.0, 3.0}, {9.0, 13.0, 6.0, 11.0, -1.0}, {11.0, 13.0, 2.0, 11.0, 3.0}, {9.0, 15.0, 6.0, 8.0, -1.0}, {9.0, 19.0, 6.0, 4.0, 2.0}, {9.0, 12.0, 6.0, 9.0, -1.0}, {9.0, 15.0, 6.0, 3.0, 3.0}, {5.0, 11.0, 18.0, 2.0, -1.0}, {5.0, 12.0, 18.0, 1.0, 2.0}, {2.0, 6.0, 15.0, 6.0, -1.0}, {2.0, 8.0, 15.0, 2.0, 3.0}, {6.0, 0.0, 18.0, 3.0, -1.0}, {6.0, 1.0, 18.0, 1.0, 3.0}, {5.0, 0.0, 3.0, 18.0, -1.0}, {6.0, 0.0, 1.0, 18.0, 3.0}, {18.0, 3.0, 6.0, 10.0, -1.0}, {20.0, 3.0, 2.0, 10.0, 3.0}, {0.0, 3.0, 6.0, 10.0, -1.0}, {2.0, 3.0, 2.0, 10.0, 3.0}, {10.0, 5.0, 8.0, 9.0, -1.0}, {10.0, 5.0, 4.0, 9.0, 2.0}, {6.0, 5.0, 8.0, 9.0, -1.0}, {10.0, 5.0, 4.0, 9.0, 2.0}, {3.0, 2.0, 20.0, 3.0, -1.0}, {3.0, 3.0, 20.0, 1.0, 3.0}, {5.0, 2.0, 13.0, 4.0, -1.0}, {5.0, 4.0, 13.0, 2.0, 2.0}, {17.0, 0.0, 7.0, 14.0, -1.0}, {17.0, 7.0, 7.0, 7.0, 2.0}, {0.0, 0.0, 7.0, 14.0, -1.0}, {0.0, 7.0, 7.0, 7.0, 2.0}, {9.0, 11.0, 10.0, 6.0, -1.0}, {9.0, 11.0, 5.0, 6.0, 2.0}, {5.0, 11.0, 10.0, 6.0, -1.0}, {10.0, 11.0, 5.0, 6.0, 2.0}, {11.0, 6.0, 3.0, 18.0, -1.0}, {11.0, 12.0, 3.0, 6.0, 3.0}, {0.0, 16.0, 18.0, 3.0, -1.0}, {0.0, 17.0, 18.0, 1.0, 3.0}, {6.0, 16.0, 18.0, 3.0, -1.0}, {6.0, 17.0, 18.0, 1.0, 3.0}, {4.0, 6.0, 9.0, 10.0, -1.0}, {4.0, 11.0, 9.0, 5.0, 2.0}, {9.0, 7.0, 15.0, 4.0, -1.0}, {9.0, 9.0, 15.0, 2.0, 2.0}, {5.0, 6.0, 12.0, 6.0, -1.0}, {5.0, 6.0, 6.0, 3.0, 2.0}, {11.0, 9.0, 6.0, 3.0, 2.0}, {6.0, 1.0, 12.0, 9.0, -1.0}, {6.0, 4.0, 12.0, 3.0, 3.0}, {7.0, 9.0, 6.0, 12.0, -1.0}, {7.0, 9.0, 3.0, 6.0, 2.0}, {10.0, 15.0, 3.0, 6.0, 2.0}, {11.0, 5.0, 13.0, 6.0, -1.0}, {11.0, 7.0, 13.0, 2.0, 3.0}, {1.0, 11.0, 22.0, 13.0, -1.0}, {12.0, 11.0, 11.0, 13.0, 2.0}, {18.0, 8.0, 6.0, 6.0, -1.0}, {18.0, 11.0, 6.0, 3.0, 2.0}, {0.0, 8.0, 6.0, 6.0, -1.0}, {0.0, 11.0, 6.0, 3.0, 2.0}, {0.0, 6.0, 24.0, 3.0, -1.0}, {0.0, 7.0, 24.0, 1.0, 3.0}, {0.0, 5.0, 10.0, 6.0, -1.0}, {0.0, 7.0, 10.0, 2.0, 3.0}, {6.0, 7.0, 18.0, 3.0, -1.0}, {6.0, 8.0, 18.0, 1.0, 3.0}, {0.0, 0.0, 10.0, 6.0, -1.0}, {0.0, 2.0, 10.0, 2.0, 3.0}, {19.0, 0.0, 3.0, 19.0, -1.0}, {20.0, 0.0, 1.0, 19.0, 3.0}, {4.0, 6.0, 12.0, 16.0, -1.0}, {4.0, 6.0, 6.0, 8.0, 2.0}, {10.0, 14.0, 6.0, 8.0, 2.0}, {19.0, 6.0, 4.0, 18.0, -1.0}, {21.0, 6.0, 2.0, 9.0, 2.0}, {19.0, 15.0, 2.0, 9.0, 2.0}, {1.0, 6.0, 4.0, 18.0, -1.0}, {1.0, 6.0, 2.0, 9.0, 2.0}, {3.0, 15.0, 2.0, 9.0, 2.0}, {3.0, 21.0, 18.0, 3.0, -1.0}, {3.0, 22.0, 18.0, 1.0, 3.0}, {0.0, 19.0, 9.0, 4.0, -1.0}, {0.0, 21.0, 9.0, 2.0, 2.0}, {12.0, 18.0, 12.0, 6.0, -1.0}, {18.0, 18.0, 6.0, 3.0, 2.0}, {12.0, 21.0, 6.0, 3.0, 2.0}, {7.0, 18.0, 9.0, 4.0, -1.0}, {7.0, 20.0, 9.0, 2.0, 2.0}, {12.0, 16.0, 10.0, 8.0, -1.0}, {17.0, 16.0, 5.0, 4.0, 2.0}, {12.0, 20.0, 5.0, 4.0, 2.0}, {2.0, 16.0, 10.0, 8.0, -1.0}, {2.0, 16.0, 5.0, 4.0, 2.0}, {7.0, 20.0, 5.0, 4.0, 2.0}, {14.0, 0.0, 10.0, 12.0, -1.0}, {19.0, 0.0, 5.0, 6.0, 2.0}, {14.0, 6.0, 5.0, 6.0, 2.0}, {0.0, 0.0, 10.0, 12.0, -1.0}, {0.0, 0.0, 5.0, 6.0, 2.0}, {5.0, 6.0, 5.0, 6.0, 2.0}, {15.0, 14.0, 9.0, 6.0, -1.0}, {15.0, 16.0, 9.0, 2.0, 3.0}, {0.0, 14.0, 9.0, 6.0, -1.0}, {0.0, 16.0, 9.0, 2.0, 3.0}, {14.0, 14.0, 10.0, 6.0, -1.0}, {14.0, 16.0, 10.0, 2.0, 3.0}, {0.0, 14.0, 10.0, 6.0, -1.0}, {0.0, 16.0, 10.0, 2.0, 3.0}, {5.0, 18.0, 18.0, 2.0, -1.0}, {5.0, 19.0, 18.0, 1.0, 2.0}, {0.0, 18.0, 18.0, 3.0, -1.0}, {0.0, 19.0, 18.0, 1.0, 3.0}, {3.0, 5.0, 18.0, 12.0, -1.0}, {12.0, 5.0, 9.0, 6.0, 2.0}, {3.0, 11.0, 9.0, 6.0, 2.0}, {5.0, 3.0, 7.0, 9.0, -1.0}, {5.0, 6.0, 7.0, 3.0, 3.0}, {4.0, 0.0, 19.0, 15.0, -1.0}, {4.0, 5.0, 19.0, 5.0, 3.0}, {3.0, 0.0, 16.0, 4.0, -1.0}, {3.0, 2.0, 16.0, 2.0, 2.0}, {4.0, 12.0, 16.0, 12.0, -1.0}, {4.0, 12.0, 8.0, 12.0, 2.0}, {4.0, 3.0, 12.0, 15.0, -1.0}, {10.0, 3.0, 6.0, 15.0, 2.0}, {16.0, 4.0, 2.0, 19.0, -1.0}, {16.0, 4.0, 1.0, 19.0, 2.0}, {6.0, 4.0, 2.0, 19.0, -1.0}, {7.0, 4.0, 1.0, 19.0, 2.0}, {13.0, 14.0, 8.0, 10.0, -1.0}, {17.0, 14.0, 4.0, 5.0, 2.0}, {13.0, 19.0, 4.0, 5.0, 2.0}, {3.0, 14.0, 8.0, 10.0, -1.0}, {3.0, 14.0, 4.0, 5.0, 2.0}, {7.0, 19.0, 4.0, 5.0, 2.0}, {12.0, 6.0, 3.0, 18.0, -1.0}, {12.0, 12.0, 3.0, 6.0, 3.0}, {5.0, 11.0, 12.0, 6.0, -1.0}, {5.0, 11.0, 6.0, 3.0, 2.0}, {11.0, 14.0, 6.0, 3.0, 2.0}, {10.0, 5.0, 8.0, 10.0, -1.0}, {14.0, 5.0, 4.0, 5.0, 2.0}, {10.0, 10.0, 4.0, 5.0, 2.0}, {6.0, 4.0, 12.0, 10.0, -1.0}, {6.0, 4.0, 6.0, 5.0, 2.0}, {12.0, 9.0, 6.0, 5.0, 2.0}, {6.0, 8.0, 18.0, 10.0, -1.0}, {15.0, 8.0, 9.0, 5.0, 2.0}, {6.0, 13.0, 9.0, 5.0, 2.0}, {0.0, 8.0, 18.0, 10.0, -1.0}, {0.0, 8.0, 9.0, 5.0, 2.0}, {9.0, 13.0, 9.0, 5.0, 2.0}, {12.0, 6.0, 3.0, 18.0, -1.0}, {12.0, 12.0, 3.0, 6.0, 3.0}, {0.0, 14.0, 18.0, 3.0, -1.0}, {0.0, 15.0, 18.0, 1.0, 3.0}, {12.0, 6.0, 3.0, 18.0, -1.0}, {12.0, 12.0, 3.0, 6.0, 3.0}, {9.0, 6.0, 3.0, 18.0, -1.0}, {9.0, 12.0, 3.0, 6.0, 3.0}, {6.0, 14.0, 18.0, 3.0, -1.0}, {6.0, 15.0, 18.0, 1.0, 3.0}, {0.0, 5.0, 18.0, 3.0, -1.0}, {0.0, 6.0, 18.0, 1.0, 3.0}, {2.0, 5.0, 22.0, 3.0, -1.0}, {2.0, 6.0, 22.0, 1.0, 3.0}, {0.0, 0.0, 21.0, 10.0, -1.0}, {7.0, 0.0, 7.0, 10.0, 3.0}, {6.0, 3.0, 18.0, 17.0, -1.0}, {12.0, 3.0, 6.0, 17.0, 3.0}, {0.0, 3.0, 18.0, 17.0, -1.0}, {6.0, 3.0, 6.0, 17.0, 3.0}, {0.0, 12.0, 24.0, 11.0, -1.0}, {8.0, 12.0, 8.0, 11.0, 3.0}, {4.0, 10.0, 16.0, 6.0, -1.0}, {4.0, 13.0, 16.0, 3.0, 2.0}, {12.0, 8.0, 6.0, 8.0, -1.0}, {12.0, 12.0, 6.0, 4.0, 2.0}, {6.0, 14.0, 8.0, 7.0, -1.0}, {10.0, 14.0, 4.0, 7.0, 2.0}, {15.0, 10.0, 6.0, 14.0, -1.0}, {18.0, 10.0, 3.0, 7.0, 2.0}, {15.0, 17.0, 3.0, 7.0, 2.0}, {3.0, 10.0, 6.0, 14.0, -1.0}, {3.0, 10.0, 3.0, 7.0, 2.0}, {6.0, 17.0, 3.0, 7.0, 2.0}, {6.0, 12.0, 18.0, 2.0, -1.0}, {6.0, 13.0, 18.0, 1.0, 2.0}, {5.0, 8.0, 10.0, 6.0, -1.0}, {5.0, 10.0, 10.0, 2.0, 3.0}, {12.0, 11.0, 9.0, 4.0, -1.0}, {12.0, 13.0, 9.0, 2.0, 2.0}, {0.0, 11.0, 9.0, 6.0, -1.0}, {0.0, 13.0, 9.0, 2.0, 3.0}, {11.0, 2.0, 3.0, 18.0, -1.0}, {12.0, 2.0, 1.0, 18.0, 3.0}, {10.0, 2.0, 3.0, 18.0, -1.0}, {11.0, 2.0, 1.0, 18.0, 3.0}, {9.0, 12.0, 6.0, 10.0, -1.0}, {11.0, 12.0, 2.0, 10.0, 3.0}, {1.0, 10.0, 6.0, 9.0, -1.0}, {1.0, 13.0, 6.0, 3.0, 3.0}, {6.0, 9.0, 16.0, 6.0, -1.0}, {14.0, 9.0, 8.0, 3.0, 2.0}, {6.0, 12.0, 8.0, 3.0, 2.0}, {1.0, 8.0, 9.0, 6.0, -1.0}, {1.0, 10.0, 9.0, 2.0, 3.0}, {7.0, 7.0, 16.0, 6.0, -1.0}, {7.0, 9.0, 16.0, 2.0, 3.0}, {0.0, 0.0, 18.0, 3.0, -1.0}, {0.0, 1.0, 18.0, 1.0, 3.0}, {10.0, 0.0, 6.0, 9.0, -1.0}, {12.0, 0.0, 2.0, 9.0, 3.0}, {9.0, 5.0, 6.0, 6.0, -1.0}, {12.0, 5.0, 3.0, 6.0, 2.0}, {10.0, 6.0, 4.0, 18.0, -1.0}, {12.0, 6.0, 2.0, 9.0, 2.0}, {10.0, 15.0, 2.0, 9.0, 2.0}, {8.0, 0.0, 6.0, 9.0, -1.0}, {10.0, 0.0, 2.0, 9.0, 3.0}, {9.0, 1.0, 6.0, 9.0, -1.0}, {9.0, 4.0, 6.0, 3.0, 3.0}, {1.0, 0.0, 18.0, 9.0, -1.0}, {1.0, 3.0, 18.0, 3.0, 3.0}, {0.0, 3.0, 24.0, 3.0, -1.0}, {0.0, 4.0, 24.0, 1.0, 3.0}, {6.0, 14.0, 9.0, 4.0, -1.0}, {6.0, 16.0, 9.0, 2.0, 2.0}, {8.0, 9.0, 8.0, 10.0, -1.0}, {12.0, 9.0, 4.0, 5.0, 2.0}, {8.0, 14.0, 4.0, 5.0, 2.0}, {5.0, 2.0, 13.0, 9.0, -1.0}, {5.0, 5.0, 13.0, 3.0, 3.0}, {4.0, 4.0, 16.0, 9.0, -1.0}, {4.0, 7.0, 16.0, 3.0, 3.0}, {4.0, 4.0, 14.0, 9.0, -1.0}, {4.0, 7.0, 14.0, 3.0, 3.0}, {8.0, 5.0, 9.0, 6.0, -1.0}, {8.0, 7.0, 9.0, 2.0, 3.0}, {1.0, 7.0, 16.0, 6.0, -1.0}, {1.0, 9.0, 16.0, 2.0, 3.0}, {10.0, 5.0, 13.0, 9.0, -1.0}, {10.0, 8.0, 13.0, 3.0, 3.0}, {1.0, 5.0, 13.0, 9.0, -1.0}, {1.0, 8.0, 13.0, 3.0, 3.0}, {0.0, 4.0, 24.0, 6.0, -1.0}, {12.0, 4.0, 12.0, 3.0, 2.0}, {0.0, 7.0, 12.0, 3.0, 2.0}, {1.0, 14.0, 10.0, 9.0, -1.0}, {1.0, 17.0, 10.0, 3.0, 3.0}, {5.0, 17.0, 18.0, 3.0, -1.0}, {5.0, 18.0, 18.0, 1.0, 3.0}, {0.0, 16.0, 18.0, 3.0, -1.0}, {0.0, 17.0, 18.0, 1.0, 3.0}, {9.0, 17.0, 9.0, 6.0, -1.0}, {9.0, 19.0, 9.0, 2.0, 3.0}, {1.0, 20.0, 22.0, 4.0, -1.0}, {1.0, 20.0, 11.0, 2.0, 2.0}, {12.0, 22.0, 11.0, 2.0, 2.0}, {8.0, 14.0, 8.0, 6.0, -1.0}, {8.0, 17.0, 8.0, 3.0, 2.0}, {8.0, 6.0, 8.0, 15.0, -1.0}, {8.0, 11.0, 8.0, 5.0, 3.0}, {5.0, 4.0, 18.0, 3.0, -1.0}, {5.0, 5.0, 18.0, 1.0, 3.0}, {9.0, 3.0, 5.0, 10.0, -1.0}, {9.0, 8.0, 5.0, 5.0, 2.0}, {6.0, 8.0, 12.0, 3.0, -1.0}, {6.0, 8.0, 6.0, 3.0, 2.0}, {2.0, 6.0, 18.0, 6.0, -1.0}, {2.0, 6.0, 9.0, 3.0, 2.0}, {11.0, 9.0, 9.0, 3.0, 2.0}, {10.0, 6.0, 4.0, 18.0, -1.0}, {12.0, 6.0, 2.0, 9.0, 2.0}, {10.0, 15.0, 2.0, 9.0, 2.0}, {7.0, 5.0, 6.0, 6.0, -1.0}, {10.0, 5.0, 3.0, 6.0, 2.0}, {14.0, 5.0, 2.0, 18.0, -1.0}, {14.0, 14.0, 2.0, 9.0, 2.0}, {8.0, 5.0, 2.0, 18.0, -1.0}, {8.0, 14.0, 2.0, 9.0, 2.0}, {9.0, 2.0, 10.0, 6.0, -1.0}, {9.0, 2.0, 5.0, 6.0, 2.0}, {3.0, 1.0, 18.0, 12.0, -1.0}, {12.0, 1.0, 9.0, 12.0, 2.0}, {5.0, 2.0, 17.0, 22.0, -1.0}, {5.0, 13.0, 17.0, 11.0, 2.0}, {4.0, 0.0, 12.0, 6.0, -1.0}, {4.0, 2.0, 12.0, 2.0, 3.0}, {6.0, 9.0, 16.0, 6.0, -1.0}, {14.0, 9.0, 8.0, 3.0, 2.0}, {6.0, 12.0, 8.0, 3.0, 2.0}, {9.0, 0.0, 5.0, 18.0, -1.0}, {9.0, 9.0, 5.0, 9.0, 2.0}, {12.0, 0.0, 6.0, 9.0, -1.0}, {14.0, 0.0, 2.0, 9.0, 3.0}, {6.0, 0.0, 6.0, 9.0, -1.0}, {8.0, 0.0, 2.0, 9.0, 3.0}, {9.0, 1.0, 6.0, 12.0, -1.0}, {11.0, 1.0, 2.0, 12.0, 3.0}, {5.0, 9.0, 13.0, 4.0, -1.0}, {5.0, 11.0, 13.0, 2.0, 2.0}, {5.0, 8.0, 19.0, 3.0, -1.0}, {5.0, 9.0, 19.0, 1.0, 3.0}, {9.0, 9.0, 6.0, 8.0, -1.0}, {9.0, 13.0, 6.0, 4.0, 2.0}, {11.0, 9.0, 4.0, 15.0, -1.0}, {11.0, 14.0, 4.0, 5.0, 3.0}, {2.0, 0.0, 6.0, 14.0, -1.0}, {2.0, 0.0, 3.0, 7.0, 2.0}, {5.0, 7.0, 3.0, 7.0, 2.0}, {15.0, 1.0, 6.0, 14.0, -1.0}, {18.0, 1.0, 3.0, 7.0, 2.0}, {15.0, 8.0, 3.0, 7.0, 2.0}, {3.0, 1.0, 6.0, 14.0, -1.0}, {3.0, 1.0, 3.0, 7.0, 2.0}, {6.0, 8.0, 3.0, 7.0, 2.0}, {3.0, 20.0, 18.0, 4.0, -1.0}, {12.0, 20.0, 9.0, 2.0, 2.0}, {3.0, 22.0, 9.0, 2.0, 2.0}, {5.0, 0.0, 4.0, 20.0, -1.0}, {5.0, 0.0, 2.0, 10.0, 2.0}, {7.0, 10.0, 2.0, 10.0, 2.0}, {16.0, 8.0, 8.0, 12.0, -1.0}, {20.0, 8.0, 4.0, 6.0, 2.0}, {16.0, 14.0, 4.0, 6.0, 2.0}, {0.0, 8.0, 8.0, 12.0, -1.0}, {0.0, 8.0, 4.0, 6.0, 2.0}, {4.0, 14.0, 4.0, 6.0, 2.0}, {13.0, 13.0, 10.0, 8.0, -1.0}, {18.0, 13.0, 5.0, 4.0, 2.0}, {13.0, 17.0, 5.0, 4.0, 2.0}, {1.0, 13.0, 10.0, 8.0, -1.0}, {1.0, 13.0, 5.0, 4.0, 2.0}, {6.0, 17.0, 5.0, 4.0, 2.0}, {15.0, 8.0, 4.0, 15.0, -1.0}, {15.0, 13.0, 4.0, 5.0, 3.0}, {5.0, 8.0, 4.0, 15.0, -1.0}, {5.0, 13.0, 4.0, 5.0, 3.0}, {6.0, 11.0, 16.0, 12.0, -1.0}, {6.0, 15.0, 16.0, 4.0, 3.0}, {2.0, 11.0, 16.0, 12.0, -1.0}, {2.0, 15.0, 16.0, 4.0, 3.0}, {14.0, 12.0, 7.0, 9.0, -1.0}, {14.0, 15.0, 7.0, 3.0, 3.0}, {10.0, 1.0, 3.0, 21.0, -1.0}, {10.0, 8.0, 3.0, 7.0, 3.0}, {13.0, 11.0, 9.0, 4.0, -1.0}, {13.0, 13.0, 9.0, 2.0, 2.0}, {3.0, 10.0, 17.0, 9.0, -1.0}, {3.0, 13.0, 17.0, 3.0, 3.0}, {13.0, 8.0, 8.0, 15.0, -1.0}, {13.0, 13.0, 8.0, 5.0, 3.0}, {3.0, 8.0, 8.0, 15.0, -1.0}, {3.0, 13.0, 8.0, 5.0, 3.0}, {11.0, 14.0, 10.0, 8.0, -1.0}, {16.0, 14.0, 5.0, 4.0, 2.0}, {11.0, 18.0, 5.0, 4.0, 2.0}, {0.0, 18.0, 22.0, 6.0, -1.0}, {0.0, 18.0, 11.0, 3.0, 2.0}, {11.0, 21.0, 11.0, 3.0, 2.0}, {0.0, 16.0, 24.0, 4.0, -1.0}, {0.0, 16.0, 12.0, 4.0, 2.0}, {6.0, 20.0, 12.0, 3.0, -1.0}, {12.0, 20.0, 6.0, 3.0, 2.0}, {18.0, 12.0, 6.0, 12.0, -1.0}, {21.0, 12.0, 3.0, 6.0, 2.0}, {18.0, 18.0, 3.0, 6.0, 2.0}, {0.0, 12.0, 6.0, 12.0, -1.0}, {0.0, 12.0, 3.0, 6.0, 2.0}, {3.0, 18.0, 3.0, 6.0, 2.0}, {15.0, 17.0, 9.0, 6.0, -1.0}, {15.0, 19.0, 9.0, 2.0, 3.0}, {1.0, 6.0, 22.0, 10.0, -1.0}, {1.0, 6.0, 11.0, 5.0, 2.0}, {12.0, 11.0, 11.0, 5.0, 2.0}, {15.0, 17.0, 9.0, 6.0, -1.0}, {15.0, 19.0, 9.0, 2.0, 3.0}, {0.0, 18.0, 18.0, 2.0, -1.0}, {0.0, 19.0, 18.0, 1.0, 2.0}, {3.0, 15.0, 19.0, 3.0, -1.0}, {3.0, 16.0, 19.0, 1.0, 3.0}, {0.0, 13.0, 18.0, 3.0, -1.0}, {0.0, 14.0, 18.0, 1.0, 3.0}, {15.0, 17.0, 9.0, 6.0, -1.0}, {15.0, 19.0, 9.0, 2.0, 3.0}, {0.0, 17.0, 9.0, 6.0, -1.0}, {0.0, 19.0, 9.0, 2.0, 3.0}, {12.0, 17.0, 9.0, 6.0, -1.0}, {12.0, 19.0, 9.0, 2.0, 3.0}, {3.0, 17.0, 9.0, 6.0, -1.0}, {3.0, 19.0, 9.0, 2.0, 3.0}, {16.0, 2.0, 3.0, 20.0, -1.0}, {17.0, 2.0, 1.0, 20.0, 3.0}, {0.0, 13.0, 24.0, 8.0, -1.0}, {0.0, 17.0, 24.0, 4.0, 2.0}, {9.0, 1.0, 6.0, 22.0, -1.0}, {12.0, 1.0, 3.0, 11.0, 2.0}, {9.0, 12.0, 3.0, 11.0, 2.0}};

static int16_t lineBuffer[24][640] = {0};
static int16_t colBuffer[24] = {0};
static int32_t ii[576] = {0};

void Eval_Rect(int rectIdx, int rectsUsed, int *x, int *y, int *width, int *height, int *weight)
{
  *x = stage24RectsExtend[rectsUsed + rectIdx][0];
  *y = stage24RectsExtend[rectsUsed + rectIdx][1];
  *width = stage24RectsExtend[rectsUsed + rectIdx][2];
  *height = stage24RectsExtend[rectsUsed + rectIdx][3];
  *weight = stage24RectsExtend[rectsUsed + rectIdx][4];
}

int evaluateNode(int nodeIdx, int *rectsUsed, float *stageTmp)
{
  float nodeThresh = stage24Nodes[3 * nodeIdx];
  float lValue = stage24Nodes[3 * nodeIdx + 1];
  float rValue = stage24Nodes[3 * nodeIdx + 2];
  int sum = 0;

  for (int rectIdx = 0; rectIdx < 3; rectIdx++)
  {
    int x, y, width, height, weight;
    Eval_Rect(rectIdx, *rectsUsed, &x, &y, &width, &height, &weight);

    int cornerUpL = (y * WIN_WIDTH) + x;
    int coordUpL = cornerUpL - (WIN_WIDTH + 1);
    int coordUpR = (cornerUpL - (WIN_WIDTH + 1)) + width;
    int coordDownL = (cornerUpL + ((height - 1) * WIN_WIDTH)) - 1;
    int coordDownR = (cornerUpL + ((height - 1) * WIN_WIDTH)) + (width - 1);

    int sumA = 0, sumB = 0;
    if (x == 0)
    {
      if (y == 0)
      {
        sumA = ii[coordDownR];
        sumB = 0;
      }
      else
      {
        sumA = ii[coordDownR];
        sumB = 0 - ii[coordUpR];
      }
    }
    else
    {
      if (y == 0)
      {
        sumA = ii[coordDownR] - ii[coordDownL];
        sumB = 0;
      }
      else
      {
        sumA = ii[coordDownR] - ii[coordDownL];
        sumB = ii[coordUpL] - ii[coordUpR];
      }
    }

    sum += ((sumA + sumB) * weight);
  }

  (*rectsUsed) += 3;

  if (sum < nodeThresh)
  {
    *stageTmp += lValue;
  }
  else
  {
    *stageTmp += rValue;
  }

  return sum;
}

int evaluateStage()
{
  float stageTmp = 0.0;
  int rectsUsed = 0;

  for (int nodeIdx = 0; nodeIdx < 200; nodeIdx++)
  {
    evaluateNode(nodeIdx, &rectsUsed, &stageTmp);
  }

  return (stageTmp < stage24Thresh) ? 0 : 1;
}

int detectFaceS24ii(int newPixel, int newPixelCol)
{
  int oldestValue = lineBuffer[0][newPixelCol];
  for (int row = 0; row < 23; row++)
  {
    colBuffer[row] = lineBuffer[row][newPixelCol];
    lineBuffer[row][newPixelCol] = lineBuffer[row + 1][newPixelCol] - oldestValue;
  }
  colBuffer[23] = lineBuffer[23][newPixelCol];
  lineBuffer[23][newPixelCol] = (lineBuffer[23][newPixelCol] - oldestValue) + newPixel;

  int oldestInRow = 0;
  for (int row = 0; row < 24; row++)
  {
    oldestInRow = ii[24 * row];
    for (int col = 0; col < 23; col++)
    {
      ii[(24 * row) + col] = ii[(24 * row) + col + 1] - oldestInRow;
    }
    ii[(24 * row) + 23] = ii[(24 * row) + 23] + colBuffer[row] - oldestInRow;
  }

  return evaluateStage();
}
int main()
{
  // Example input values for testing
  int newPixel = 50;   // Example pixel value
  int newPixelCol = 5; // Example column index

  // Call the face detection function
  int result = detectFaceS24ii(newPixel, newPixelCol);

  // Output the result
  if (result == 1)
  {
    printf("Face detected!\n");
  }
  else
  {
    printf("No face detected.\n");
  }

  return 0;
}
